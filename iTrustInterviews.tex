% Also note that the "draftcls" or "draftclsnofoot", not "draft", option
% should be used if it is desired that the figures are to be displayed in
% draft mode.
%
\documentclass[conference]{IEEEtran}
% Add the compsoc option for Computer Society conferences.

% Some very useful LaTeX packages include:
% (uncomment the ones you want to load)

\usepackage{cite}
\ifCLASSINFOpdf
   \usepackage[pdftex]{graphicx}
  % declare the path(s) where your graphic files are
   \graphicspath{{Images/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
   \DeclareGraphicsExtensions{.pdf,.jpeg,.png}
\else
  % or other class option (dvipsone, dvipdf, if not using dvips). graphicx
  % will default to the driver specified in the system graphics.cfg if no
  % driver is specified.
  % \usepackage[dvips]{graphicx}
  % declare the path(s) where your graphic files are
  % \graphicspath{{../eps/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
  % \DeclareGraphicsExtensions{.eps}
\fi
% graphicx was written by David Carlisle and Sebastian Rahtz. It is


% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}

\usepackage{url}
\usepackage[table, svgnames]{xcolor} 
\usepackage{color}
\usepackage{siunitx}
\usepackage{multirow}
\input{macros}
\usepackage{dcolumn}
\newcolumntype{Y}{D..{6.4}}

\newcommand{\blind}[1]{{\color{white}\{#1\}}}

\begin{document}
%
% paper title
% can use linebreaks \\ within to get better formatting as desired
% Do not put math or special symbols in the title.

\title{Assessing Tool Support for Questions Developers Ask About Security Vulnerabilities}
% What Questions Do Developers Ask When Reasoning about the Security of Their Code? Building Tools that Answer Developers' Questions about Security Vulnerabilities?

% author names and affiliations
% use a multiple column layout for up to three different
% affiliations
\author{\IEEEauthorblockN{\blind{Justin Smith, Brittany Johnson, and Emerson Murphy-Hill}}
\IEEEauthorblockA{\blind{North Carolina State University}\\
\blind{Raleigh, NC 27606}}
\and
\IEEEauthorblockN{\blind{Bill Chu and Heather Richter Lipford}}
\IEEEauthorblockA{\blind{University of North Carolina at Charlotte}\\
\blind{Charlotte, NC 28223} \\
\blind{\{billchu, heather.lipford\}@uncc.edu}
}}

\maketitle

% As a general rule, do not put math, special symbols or citations
% in the abstract
\begin{abstract}

Program analysis tools should help developers answer the questions they ask while assessing the security of their code. 
To design tools that help developers answer these questions, we must first understand what questions they ask.
However, we lack a catalog and categorization of such questions. 
We built this categorized catalog by conducting a laboratory experiment with novice and experienced software developers, observing their interactions with security vulnerabilities in iTrust, a Java medical records software system.
Results of our study suggest that developer may lack support in reasoning about attack surfaces, systematically assessing potential attacks, and locating security-critical components in the code.



\end{abstract}
% no keywords

% For peer review papers, you can put extra information on the cover
% page as needed:
% \ifCLASSOPTIONpeerreview
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
% \fi
%
% For peerreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle



\section{Introduction}
% no \IEEEPARstart

Software developers are a critical part of making software secure. 
When there is a security fault in a software system, it is up to the developers to determine the best way to remove the vulnerability and ensure proper function of the system in the future.
There are a variety of ways developers can learn about, assess, and fix insecure code.
It is particularly important to provide effective tools for secure systems, as security vulnerabilities are more likely to cause incidents that affect company profits as well as end users~\cite{chen2002mops}. 

Toolsmiths produce static analysis tools to help developers detect potential security flaws in their code. 
One of example of such a tool is Find Security Bugs (FSB),\footnote{\url{h3xstream.github.io/find-sec-bugs/}} an extension of FindBugs.\footnote{findbugs.sourceforge.net} 
FSB locates and reports on potential security vulnerabilities in software, such as SQL injection and cross-site scripting.  
Other tools, such as CodeSonar\footnote{\url{grammatech.com/codesonar}} and Coverity,\footnote{\url{coverity.com/}} can also be used to detect and remove potential security vulnerabilities.
Unfortunately, however, research suggests that many developers may not be using such static analysis tools, in part because tools do not always effectively communicate relevant information to developers~\cite{johnson2013don}. 

% maybe connect back to example.

Although existing work has cataloged developers' information requirements in a broad sense, including the notion that developers have questions about the security of their code, no prior study has specifically investigated questions that developers ask when using tools to diagnose and fix security vulnerabilities~\cite{latoza2010hard}. 
As we show later in this paper, many questions are unique to using security tools.
Furthermore, in non-security domains, work that identifies questions has helped toolsmiths improve the state-of-the-art from program analysis tools~\cite{kononenko2012automatically, servant2012history, yoon2013visualization}. 


%Though not the goal of their work, many researchers have taken the findings of LaToza and colleagues and been able to work towards improving the state-of-the-art for program analysis tools~\cite{kononenko2012automatically, servant2012history, yoon2013visualization}. 



In this paper, we report a study conducted to create a better understanding of the information developers seek with using static analysis tools to identify and assess security vulnerabilities in code.
We conducted a laboratory experiment with 10 developers familiar with the iTrust software system.\footnote{\blind{\url{http://agile.csc.ncsu.edu/iTrust/wiki/doku.php?id=start}}} 
We observed each developer as they assessed potential security vulnerabilities identified by FSB. 
We report the kinds of questions they asked while doing so, along with the strategies they used to answer them.
Using a card sort methodology, we sorted the 559 questions into 17 categories. 

Our work makes three contributions. 
First, we present a list of questions software developers ask when examining the security of their code.
Second, based on our observations, we discuss the strategies developers use to answer their questions.
Finally, we evaluate the existing tool support for answering security-related questions.

The remainder of the paper is organized as follows. 
In Section~\ref{sec:rw}, we discuss previous work related to our own. 
Section~\ref{sec:meth} outlines the methodology we used to conduct our study and analyze our data. 
We organize divide the findings of our study into four sections. 
Section~\ref{sec:results-vaf} reports findings related to vulnerabilities, attacks and fixes. 
Section~\ref{sec:results-ca} discusses questions about the code and the application in which the code resides.
Section~\ref{sec:results-i} reports findings about individuals and their thought processes.
Section~\ref{sec:results-pss} reports questions surrounding resources for solving the problem.
Each section of findings includes observations made and implications for tool design that can be drawn based on these observations. 
We summarize the implications from our findings in Section~\ref{sec:disc} and note the threats to the validity of our findings in \ref{limits}.



%Figure, high res, png or vector (pdf)

\section{Related Work}
\label{sec:rw}

We have organized the related work into three subsections. Section \ref{evaluation} outlines the predominant approaches researchers use to evaluate security tools. 
Section \ref{understanding} surveys the work done to facilitate developers' understanding of code, and Section \ref{questions} references similar studies that have explored the questions developers ask when modifying, understanding, or debugging their code.

\subsection{Evaluation of Techniques}
\label{evaluation}
Developers use several techniques and tools to help secure their systems.
Using a variety of metrics, many studies have assessed the effectiveness of the tools and techniques developers use to find and remove vulnerabilities from their code~\cite{martin2005finding, austin2011one, livshits2005finding}.  

Much research has evaluated the effectiveness of tools and techniques based on their false positive rates and how many vulnerabilities they detect~\cite{jovanovic2006pixy, austin2011one, dukes2013case}. 
Jovanovic and colleagues attempt to address the problem of vulnerabilities in web applications by implementing and evaluating \textsc{Pixy}, a static analysis tool that detects cross-site scripting vulnerabilities in PHP scripts~\cite{jovanovic2006pixy}. 
They considered their tool effective because of its low false positive rate (50\%) and its ability to find vulnerabilities previously unknown. 
Similarly, Livshits and Lam evaluated their own approach to static analysis for detecting security vulnerabilities; the static analyzers used are created from specifications provided by the user~\cite{livshits2005finding}. 
They also found their tool to be effective because it had a low false positive rate. 

Austin and Williams compared the effectiveness of four existing techniques for discovering security vulnerabilities: systematic and exploratory manual  penetration testing, static analysis, and automated penetration testing~\cite{austin2011one}. 
Comparing the four approaches based on number of vulnerabilities found, false positive rate, and efficiency, they reported that no one technique was capable of discovering every type of vulnerability. 
Dukes and colleagues conducted a case study comparing static analysis and manual testing techniques used to find security vulnerabilities~\cite{dukes2013case}. 
They found combining manual testing and static analysis was most effective, because it located the most vulnerabilities.


These studies use various measures of effectiveness, such as false positive rates or vulnerabilities found by a tool, but none focus on how developers interact with the tool. 
Further, they do not evaluate whether the tools under study answer questions developers have about the code or vulnerabilities. 
Unlike existing studies, our study explores the questions developers ask when attempting to understand the vulnerabilities in their code.

\subsection{Developer Understanding}
\label{understanding}
In non-security domains, research has transitions from focusing on the technical effectiveness of program analysis tools to usability~\cite{johnson2013don, ayewah2008using, khoo2008path}. 
These studies sought to evaluate how tools communicate information to developers and how a tool can enhance a developer's understanding of the code. 
Such studies examine proposed and existing approaches using various qualitative methods like interviews and surveys. 

Ayewah, Pugh, and colleagues conducted a series of interviews and surveys, along with a controlled user study, in an attempt to better understand the practices and needs of developers when using the static analysis tool FindBugs~\cite{ayewah2008report, ayewah2008using}.

Khoo and colleagues focused their efforts on improving the user interface of existing tools by developing and evaluating \textsc{Path Projection}, a user interface toolkit to help developers navigate through and understand the errors in their code~\cite{khoo2008path}.

Johnson and colleagues conducted semi-structured interviews with professional developers to determine the reasons developers use or, do not use, static analysis tools to find defects in their codes~\cite{johnson2013don}. 
Their findings suggest developers do not use tools to analyze their code, because they have difficulty understanding the output provided. 

Layman and colleagues conducted a study with developers to explore the factors developers consider when deciding whether they will fix a defect or not~\cite{layman2007toward}. 
They found that, among other criteria considered, developers consider the description of the fault critical to assessing its importance. 
Based on their findings, they discuss design implications for automated fault detection tools.

These studies discuss the ability of developers to effectively use existing tools and ways to improve them. However, these studies do not focus on the information needs of developers when using static analysis tools in their code. 
The goal of our study is to identify the security-related questions developers ask when approaching security vulnerabilities so that tool designers understand the information requirements of security-minded developers.

\subsection{Answering Developer Questions}
\label{questions}
Several studies have explored the knowledge requirements of developers when coding.
Similar to our work, some existing studies focus on the questions developers ask to determine these knowledge requirements~\cite{latoza2010hard, latoza2010developers}.
In contrast, our study focuses specifically on the knowledge requirements of developers when assessing security vulnerabilities.


Much of the work on answering developer questions has occurred in the last decade. 
LaToza and Myers surveyed professional software developers to understand the questions developers ask during their daily coding activities, focusing on the hard to answer questions~\cite{latoza2010hard}. 
Futhermore, after observing developers in a lab study, they discovered that the questions developers ask tend to be questions revolving around searching through the code for target statements, or reachability questions~\cite{latoza2010developers}. 
Ko and Myers developed \textsc{Whyline}, a tool meant to ease the process of debugging code by helping answer ``why did'' and ``why didn't'' questions. ~\cite{ko2004designing}. 
They found that developers were able to complete more debugging tasks when using their tool than they could without it.
Fritz and Murphy developed a model and prototype tool to assist developers with answering the questions they want to ask based on interviews they conducted~\cite{fritz2010using}.

Our work builds on the work of LaToza and Myers, which found that some of the hard-to-answer questions developers have surround the implications of code changes on the security of their code. 
Our study discovers the questions developers have about potential code vulnerabilities and discusses the implications of the changes they may make when attempting to resolve them. 

\section{Methodology}
\label{sec:meth}
We conducted a laboratory experiment with 10 software developers. In our analysis, we extracted and categorized the questions developers asked during each study session. 
Section \ref{rqs} outlines the research questions we sought to answer. 
Section \ref{studyDesign} details how the study was designed and Section \ref{dataAnalysis} describes how we performed data analysis.
Experimental materials can be found online.~\footnote{\blind{\url{http://www4.ncsu.edu/~bijohnso/security-questions.html}}}


\subsection{Research Questions}
\label{rqs}
We want to answer the following research questions:
\begin{itemize}
\item \textbf{RQ1}: What types of security related questions do developers ask?
\item \textbf{RQ2}: How do current tools and approaches support developers in answering these questions?
\end{itemize}


\subsection{Study Design}
\label{studyDesign}
Each session started with a five-minute briefing section, followed by encounters with four vulnerabilities.
All participants consented to have their session recorded using screen and audio capture software.
Finally, each session concluded with several demographic and open-ended discussion questions.


\subsubsection{Materials}
\begin{figure}
\centering
\includegraphics[width=3.5in]{Images/environment.png}
\caption{The environment participants were presented with.}
\label{fig:environment} 
\end{figure}

Participants used Eclipse to explore vulnerabilities in iTrust, an open source Java medical records web application that ensures the privacy and security of patient records according to the HIPAA statue.\footnote{\url{hhs.gov/ocr/privacy/}} 
During the briefing session, participants were given time to familiarize themselves with the development environment and ask any questions about the experimental setup.
Participants were equipped with a version of FindBugs extended with FSB.
We chose FSB because it is open source, lightweight, and similar to other static analysis tools for detecting security vulnerabilities in web applications, such as those listed by NIST,\footnote{\url{samate.nist.gov/index.php/Source_Code_Security_Analyzers.html}} OWASP,\footnote{\url{owasp.org/index.php/Source_Code_Analysis_Tools}} and WASC\footnote{\url{projects.webappsec.org/w/page/61622133/StaticCodeAnalysisList}}.
Figure \ref{fig:environment} depicts the configuration of the integrated development environment (IDE) for one of the tasks.



\begin{table}
\centering
\caption{Demographics of study participants}
\begin{tabular}{|l|l|c|S|}
\rowcolor{gray!50}
\hline
    Participant		& Job Title 						& Vulnerability 			&\multicolumn{1}{c|}{Experience (yrs)} \\
    \rowcolor{gray!50}
    				&									& Familiarity				&    \\
    \hline
    P1			    & Student     						& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/two-half-stars.pdf}} 	&  4.5    \\
    \hline
    P2			    & Test Engineer    					& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/three-stars.pdf}}		&  8 		\\
    \hline
    P3 				& Development Tester       			& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/two-stars.pdf}}			&  6 	    	\\
    \hline
    P4				& Software Developer     			& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/two-stars.pdf}}			&  6     	\\
    \hline
    P5				& Student      						& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/four-stars.pdf}}			&  10 	\\
    \hline
    P6				& Student		    				& \raisebox{-0.9ex}{\includegraphics[height=8.5px]{images/one-star.pdf}}				& 4		\\
    \hline
    P7				& Software Developer    	& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/four-stars.pdf}}		& 4.5         \\
    \hline
    P8				& Student	    					& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/three-stars.pdf}}		& 7   \\
    \hline
    P9				& Software Consultant   	 		& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/three-stars.pdf}}		& 5	  		 \\
    \hline
    P10			    & Student    						& \raisebox{-0.9ex}{\includegraphics[height=9px]{images/three-stars.pdf}}		& 8	           \\
    \hline
\end{tabular}
\label{table:participants}
\end{table}



\subsubsection{Participants}

To simulate a more realistic work environment, participants were required to have significant experience working on the iTrust code base. 
All participants either completed or served as teaching assistants for a semester-long software engineering course that focused on developing iTrust.

For our experiment, we recruited 10 software developers, 6 students and 4 professionals. Participants ranged in programming experience from 4 years to 10 years, averaging 6.3 years.
All interviews were conducted in-person.
We recruited participants from personal contacts and class rosters, using snowball sampling to find additional qualified participants.
Since extracting data from each interview required intensive analysis, we ceased recruitment when we that we had reached saturation and few new questions were emerging from each additional interview.

Table~\ref{table:participants} gives additional demographic information on each of the 10 participants. 
In the remainder of this paper, we will refer to participants by the abbreviations found in the participant column of the table.  
Since the focus of our study is to identify the questions developers ask independent of their background, we report on demographic information to ensure a degree of diversity in our sample and contextualize participants' responses.

\subsubsection{Tasks}
Each participant was asked to assess four vulnerabilities. 
We presented each participant with this number of vulnerabilities, because in preliminary pilot sessions, participants spent approximately 10-15 minutes with each vulnerability and showed signs of fatigue after 60 minutes.

When selecting tasks, we gave preference to existing iTrust vulnerabilities and sought a broad set of question topics.  
FSB uses topic abbreviations to group similar error messages. 
For example the abbreviation for the topic Path Traversal is PT and applies to notifications that warn about potential path traversal. 
FSB reports on several types of vulnerabilities. 
To cover a broader set of question topics, we ensured each vulnerability pertained to a different topic.
FSB identified three types of naturally occurring vulnerabilities: cross-site scripting, path traversal, and predictable random vulnerabilities.
We inserted a SQL injection vulnerability by making minimal alterations to one of the database access objects.
Our modification preserved the functionality of the original code and was based on examples of SQL injection found on OWASP and in open-source projects.
Table \ref{table:vulnerabilities} summarizes each of the four vulnerabilities. 

\begin{table*} 
\centering
\caption{Four vulnerability exploration tasks}
\begin{tabular}{|l|l|l|l|}
\rowcolor{gray!50}
\hline
    Vulnerability				& Short Description													& Tool's Rank 						& Tool's Confidence\\
    \hline	
    Potential Path Traversal	& An instance of java.io.File is created to read a file.     			& ``Scary''							 	&  Normal\\
    \hline
    Predictable Random			& Use of java.util.Random is predictable. 								& ``Scary''								&  Normal\\
    \hline
    Servlet Parameter 			& The method getParameter returns a String value that is controlled by the client.			& ``Troubling''		&  Low\\
    \hline
    SQL Injection				& [Method name] passes a non-constant String to an execute method on an SQL statement.     	& ``Of Concern''		&  Low\\
    \hline
\end{tabular}
\label{table:vulnerabilities}
\end{table*}

During the briefing section, we asked participants to pretend they are in charge of security for iTrust and to approach the vulnerabilities as if they were in their normal work environment.
Additionally, we asked them to use a think-aloud protocol, which encourages the participant to verbally announce their thought process as they complete a task or activity~\cite{nielsen2002getting}. 
Specifically, they were asked to, ``Say any questions or thoughts that cross your mind regardless of how relevant you think they are.''
We recorded both audio and the screen as experimental artifacts for data analysis.

The session moderator was equipped with the following questions, but had the freedom to omit questions and ask follow-up questions based on the participant's responses.
\begin{itemize}
\item What are you exploring/trying to figure out right now?
\item What information do you need to proceed?
\item Can you explain what this warning is trying to tell you?
\item Based on your understanding of this error message, what is the percentage likelihood you would modify this section of the code?
\item How would you fix the problem? Where would you start?
\item On a scale of 1-5, how confident are you in your understanding of the error message?
\item On a scale of 1-5, how confident are you that you are making the correct judgments?
\item What information would you like to see added to the error message?
\item What part of the message is most helpful?
\item Look at the error message one last time. Is there any information you initially disregarded?
\item Would you like to share any other thoughts about this vulnerability?
\end{itemize}

\subsection{Data Analysis}
\label{dataAnalysis}
We analyzed session data using an approach inspired by grounded theory~\cite{glaser2009discovery}. 
First, we transcribed all the audio-video files using oTranscribe.\footnote{\url{otranscribe.com}}
Each transcript, along with the associated recording, was analyzed by two of the authors for implicit and explicit questions. 
The two question sets for each session were then iteratively compared against each other until the authors reached agreement on the question sets. 
In the remainder of this section, we will detail the question extraction process and question sorting processes, including the criteria used to determine which statements qualified as questions.
\subsubsection{Question Criteria}
Participants ask both explicit and implicit questions. 
Drawing from previous work on utterance interpretation, we developed 5 criteria to assist in the uniform classification of participant statements~\cite{letovsky1987cognitive}. 
A statement was coded as a question only if it met one of the following criteria:

\begin{itemize}
\item \textbf{The participant explicitly asks a question.}
\\ Example: \textit{Why aren't they using \CodeIn{PreparedStatements}?}
\item \textbf{The participant makes a statement and explores the validity of that statement.}
\\ Example: \textit{It doesn't seem to have shown what I was looking for. Oh, wait! It's right above it...}
\item \textbf{The participant uses key words such as, ``I assume,'' ``I guess,'' or ``I don't know.''}
\\ Example: \textit{I don't know that it's a problem yet.}
\item \textbf{The participant clearly expresses uncertainty over a statement.}
\\ Example: \textit{Well, it's private to this object, right?}
\item \textbf{The participant clearly expresses a knowledge requirement by describing plans to acquire information.}
\\ Example: \textit{I would figure out where it is being called.}

\end{itemize}

\subsubsection{Question Extraction}
Using the criteria outlined in the previous section, two of the authors independently coded each session. 
When we identified an explicit question or implicit question, which is a statement that satisfies one or more of the criteria, we marked the transcript, highlighted the participant's original statement, and clarified the question being asked.
Question clarification typically entailed rewording the question to best reflect the information the participant is trying to acquire.
From the 10 sessions, the first coder extracted 421 question statements; the other coder extracted 389. 

To make sure our list of questions was exhaustive, two independent reviewers coded the transcripts using the criteria.
It was sometimes difficult to determine what statements should be extracted as questions; the criteria helped ensure both reviewers only highlighted the statements that reflected actual questions. 
Figure \ref{fig:merging} depicts a section of the questions extracted by both authors from P8 prior to review.

\begin{figure*}
\centering
\includegraphics[width=7.5in]{Images/QuestionMerging}
\caption{Question merging process}
\label{fig:merging} 
\end{figure*}

\subsubsection{Question Review}
To remove duplicates and ensure the validity of all the questions, each transcript was reviewed jointly by the two authors that initially coded it.
During the second pass, the two reviewers examined each question statement, discussing the justification for each question based on the previously stated criteria.
The two reviewers merged duplicate questions, favoring the wording that was most strongly grounded in the experiment artifacts.
This process resulted in a total of 559 questions.

Each question that was only identified by one author required verification.
If the other author did not agree that such a question met at least one of the criteria, the question was removed from the question set and counted as a disagreement.
The reviewers were said to agree when they merged a duplicate or verified a question. Depending on the participant, inter-reviewer agreement ranged from 91\% to 100\%. Across all participants, agreement averaged to 95\%.
The agreement scores suggest that the two reviewers consistently held similar interpretations of the question criteria.

Figure \ref{fig:merging} depicts a section of the questions extracted by both authors from P8 prior to review.

\subsubsection{Question Sorting}
To organize our questions and facilitate discussion, we performed an \textit{open} card sort~\cite{hudson2013sorting}. 
Card sorting is typically used to help structure data by grouping related information into categories. 
In an \textit{open} sort, the sorting process begins with no notion of predefined categories. 
Rather, sorters derive categories from emergent themes in the cards. 

\begin{figure}
\centering
\includegraphics[width=3in]{Images/notecards.pdf}
\caption{Result of phase one of card sorting.}
\label{fig:stageOne} 
\end{figure}

We performed our card sort in three distinct stages: clustering, categorization, and validation.
In the first stage, we formed question clusters by grouping questions that identified the same information requirements (Figure~\ref{fig:stageOne}). 
In this phase we focused on rephrasing similar questions and grouping duplicates.
For example, P1 asked, \textit{Where can I find information related to this vulnerability?} P7 asked, \textit{Where can I find an example of using \CodeIn{PreparedStatements}?} and P2 asked, \textit{Where can I get more information on path traversal?} 
Of these questions, we created a question cluster labeled \textit{Where can I get more information?}
At this stage, we discarded 5 unclear or non pertinent questions and organized the remaining 554 into 155 unique question clusters.

\begin{table*} 
\centering
\caption{Organizational Groups and Emergent Categories}
\begin{tabular}{|l|l|r|c|}
\rowcolor{gray!50}
\hline
    Group											& Category										& Clusters		& Location in Paper	  	\\
    \hline			
    \multirow{4}{*}{Vulnerabilities, Attacks, and Fixes, Oh My!}
        											& Understanding Alternative Fixes and Approaches	& 11     		& Section~\ref{uafa}	\\

    												& Preventing and Understanding Potential Attacks	& 11     		& Section~\ref{pupa}		\\

    												& Assessing the Application of the Fix				& 9     		& Section~\ref{aaf}				\\

    												& Relationship Between Bugs							& 3     		& Section~\ref{rbb}			\\
    \hline
    \multirow{4}{*}{Code and the Application}	
    												& Locating Information 								& 11      		& Section~\ref{li}		\\

    												& Control Flow and Call Information					& 13     		& Section~\ref{cf}	\\

    												& Data Storage and Flow								& 11     		& Section~\ref{dsf}  	\\

    												& Code Background and Functionality	 				& 17     		& Section~\ref{cbf}			\\

    									& Application Context/Usage										& 9     		& Section~\ref{acu}			\\

    									& End-User Interaction											& 3     		& Section~\ref{eui}		\\
    \hline	
    \multirow{4}{*}{Individuals}	
    									& Developer Planning and Self-Reflection						& 14    		& Section~\ref{dpr}		\\

    									& Understanding Concepts										& 6 			& Section~\ref{uc}			\\

    									& Confirming Expectations					 					& 1				& Section~\ref{ce}  \\
    \hline
	\multirow{4}{*}{Problem Solving Support}

    									& Bug Severity and Rank											& 4     		& Section~\ref{bsr}		\\

    									& Understanding and Interacting with Tools						& 9     		& Section~\ref{uit}			\\

   	 									& Resources and Documentation									& 10     		& Section~\ref{rd}		\\

    									& Error Messages												& 3     		& Section~\ref{em}		\\
    \hline	
       									& Uncategorized													& 10    		&			 \\
    \hline
\end{tabular}
\label{table:categories}
\end{table*}


In the second stage, we identified emergent themes and grouped the clusters into categories based on the themes. 
For example, we placed the question \textit{Where can I get more information?} into a category called \emph{\textbf{Resources/Documentation}}, along with questions like \textit{Is this a reliable/trusted resource?} and \textit{What information is in the documentation?} 
Table~\ref{table:categories} contains the 17 categories along with the number of distinct clusters each contains. 

To validate the categories that we identified, we asked two independent researchers to sort the question clusters into our categories. 
Rather than sort the entire set of questions, we randomly selected 43 questions for each researcher to sort.
The first agreed with our categorization with a Cohen's Kappa of $\kappa = .63$. 
Between the first and second researcher we reworded and clarified some ambiguous questions. The second researcher exhibited greater agreement ($\kappa = .70$). 
These values are within the $.60 - .80$ range, indicating substantial agreement~\cite{Landis1977agreement}.

\section{Interpreting the Results}
\label{sec:results}

In the next 4 sections, we discuss the results of our experiment using the categories we described in the previous section.
Due to the large number of categories, we put the categories into groups to organize and facilitate discussion about our findings. Table~\ref{table:categories} provides an overview of this structure.
For each category, we selected several questions to discuss. A full list of distinct questions can be found online.\footnote{\blind{\url{www4.ncsu.edu/~bijohnso/questions.pdf}}}

For each each category, we denote the overall number of participants that asked questions in parentheses and list the selected questions with the number of participants that asked each question in parentheses. 
When discussing the questions participants asked for each category, we will use phrases such as ``\emph{x} participants asked \emph{Y}.''
Note that this work considers of a relatively small sample and is exploratory and qualitative in nature.
Though we present information about the number of participant that ask specific questions, the reader should not infer any qualitative generalizations.
We detail the observations we made and contextualize each category by discussing existing tool support and shortcomings.

\section{Results: Vulnerabilities, Attacks, and Fixes, Oh My!}
\label{sec:results-vaf}
% next paragraph, go into description of first group 


%%%%%%%%%%%% Understanding Alt. Fixes

\noindent\subsection{\textbf{Understanding Alternative Fixes and Approaches (8)}}\label{uafa}

When resolving security vulnerabilities, participants encountered alternative approaches that appeared to achieve the desired functionality more securely.
For example, when evaluating the SQL injection vulnerability, participants found resources that suggested using the \CodeIn{PreparedStatement} Class instead of Java \CodeIn{Statement}. 
Participants found many sources for alternative fixes, including web resources and even code located in other parts of the project.
When presented with alternative approaches, participants compared the alternative with the current code and assessed the applicability of the alternative. 
Eleven of the 155 questions we extracted pertained to understanding the various facets of alternative approaches or solutions, such as:
\\
\\
\noindent\emph{Does the alternative function the same as what I'm currently using? (6)} \\
\emph{What are the alternatives for fixing this? (4)} \\
\emph{Are there other considerations to make when using the alternative(s)? (3)} \\
\emph{How does my code compare to the alternative code in the example I found? (2)} \\
\emph{Why should I use this alternative method/approach to fix the vulnerability? (2)} \\

\noindent\textbf{Observations.}
%The developer could attempt to apply the new fix or approach, but the data we report in Section~\ref{aaf} suggests developers also have questions about this process that make it difficult to quickly and effectively complete.
%SAVE THIS CONNECTION FOR LATER
Eight participants had questions that fit into this category. 
The FSB notifications for the SQL Injection and Predictable Random vulnerabilities explicitly offer alternative fixes. 
As noted, the message associated with the SQL Injection vulnerability suggests switching to use \CodeIn{PreparedStatements}. 
The message associated with the Predictable Random vulnerability suggests switching to use \CodeIn{java.security.SecureRandom}. 
In other cases, participants turned to a variety of sources, such as StackOverflow, official documentation, and personal blogs for alternative approaches. 
Three participants specifically mentioned StackOverflow as a source for better understanding alternative approaches and fixes. 
P7 preferred StackOverflow as a resource, because it included real-world examples and elaborated on what was wrong with the code as it was currently written.  
While attempting to assess the Servlet Parameter vulnerability (Table~\ref{table:vulnerabilities}), P8 decided to explore some resources on the web and came across a resource that appeared to be affiliated with OWASP\footnote{\url{owasp.org/index.php/Main_Page}}. 
Because he recognized OWASP as ``the authority on security,'' he clicked the link and used it to make is final decision regarding the vulnerability. 
Despite the useful information some participants found, often the candidate alternative did not readily provide meta-information about trade-offs or the process of applying suggestions. 
For example, P9 found a suggestion on StackOverflow that he thought might work, but it was not clear if it could be applied to the code in iTrust. 
\\

\noindent\textbf{Tool Implications.} 
It seems especially important when dealing with potential security vulnerabilities that developers fully understand any changes they make to the code. 
However, based on our observations, developers lack easy-access to security-relevant information on potential alternatives. 
Rather, participants used ad-hoc strategies to seek different pieces of information from a variety of sources. 

The questions in this category suggest that developers could use a tool that aggregates information on alternative secure coding practices.
Our observations also suggest that such a tool should include real world examples and draw from trusted authorities on security.
Finally, the tool should present information about the trade-offs associated with a particular alternative, such as decreased performance or the possibility of introducing additional vulnerabilities. 

%One way a tool might help developers determine the changes, if any, they should making would be by noting other places in the code the alternative under  consideration has been used, if they exist. 

%The tool could then potentially use speculative analysis, which is used by tools like \textsc{Quick Fix Scout}, to present trade-offs of using the suggested fix or keeping the code as it is~\cite{mucslu2012speculative}.

%GOOD POINTS ABOVE NOT SURE HOW THEY FIT WITH STORY


%If the developer, or other developers of the code, have not used the alternative before, the tool could borrow behavior or design principles from \textsc{Whyline} by allowing developers to ask questions about the code in relation to the suggested approach~\cite{ko2004designing}. 



%%%%%%%%%%%% Preventing and Understanding Potential Attacks 

\noindent\subsection{\textbf{Preventing and Understanding Potential Attacks (10)}}\label{pupa}
Unlike other types of code defects that may cause code to function unexpectedly or incorrectly, security vulnerabilities open the code up to potential attacks. For example, the servlet parameter vulnerability introduced the possibility of SQL injection, path traversal, command injection, and cross-site scripting attacks.
Eleven of the 155 distinct questions we gathered belong in this category.
\\

\noindent\emph{Is this a real vulnerability? (7)} \\
\emph{What are the possible attacks that could occur? (5)} \\
\emph{Why is this a vulnerability? (3)} \\
\emph{How can I prevent this attack? (3)} \\
\emph{How can I replicate an attack to exploit this vulnerability? (2)} \\
\emph{What is the problem (potential attack)? (2)} \\

\noindent\textbf{Observations.}
Participants sought information about the variety of attacks that could occur in a given context.
To that end, five participants asked \textit{What are the possible attacks that could occur?}
For example, within the first minute of his analysis, P2 stated that he was thinking about the different types of attacks that could target web applications, like iTrust. He asked what types of attacks were possible while beginning to think about which attacks he might need to prevent.

On the other hand, participants also more specific attack-information about particular attacks as they were being considered.
Participants hypothesized about specific attack vectors, how to execute those attacks, and how to prevent those attacks now and in the future.
Seven participants asked the question, \textit{Is this a real vulnerability?} To answer that question, participants searched for hints that an attacker could actually execute a given attack in a specific context. For example, P10 determined that the Predictable Random vulnerability was ``real,'' because an attacker could deduce the random seed and use that information to determine other users' passwords. 
\\

\noindent\textbf{Tool Implications.}
Unlike other contexts, when analyzing security vulnerabilities, developers ask questions about potential attacks.
The existence of this category suggests security tools should be designed differently from other code analysis tools; they should present pertinent information about potential attacks. 
Based on our observations, we recommend that vulnerability notifications should include the name of the attack as well as an overview of how the attack could be executed.

However, the questions in this category also suggest developers operate in two distinct modes when reasoning about potential attacks.
At times they inquire about all the possible attacks that could occur.
At other times, they explore the feasibility of a specific attack.
Security tools could support this modality by providing checklists to help developers systematically reason about all the potential attacks. 
Additionally, the tool could toggle between displaying checklists and displaying detailed information about a particular attack, depending the developer's current mode.
%Some Find Security Bugs notifications attempt to provide developers with the means to answer some of these questions by providing links to relevant information. 
%Many of the links provided linked to information regarding why the code may be broken, however, do not provide information to improve understanding of what the potential attacks are. 
%Some of the questions, such as \textit{How do I find out if this is a real vulnerability?}, may not be as simple to answer by providing a link. 
%This kind of question may require triangulation of information; some information from the web on the vulnerability itself and the potential attacks, and some information from fellow developers who may better understand the likelihood the bug is a vulnerability in their system. 
%One way tools can help is by providing easy access to the top web resources and developers to use when assessing the vulnerability; many of our participants preferred StackOverflow as a resource and a degree of knowledge model, like the one proposed by Fritz and his colleagues, could provide the developers most familiar with the code~\cite{fritz2010degree}.


%%%%%%%%%%%% Assessing Application % % % % % % % % % % % % % % % % % % % % % % % %

\noindent\subsection{\textbf{Assessing the Application of the Fix (9)}}\label{aaf}
Once participants had identified a specific approach for fixing a security vulnerability, they asked questions about applying the fix to the code.
For example, when considering the use of \CodeIn{java.security.SecureRandom} to resolve the Predictable Random vulnerability, participants questioned the applicability of the fix and consequences of making the change. 
The questions in this category differ from those in \emph{\textbf{Understanding Alternative Fixes and Approaches}} (Section \ref{uafa}). 
These questions focus on the process of applying  and reasoning about a given fix, rather than identifying and understanding possible fixes.
We placed 9 of the 155 distinct questions into this category.
\\

\noindent\emph{Will the error go away when I apply this fix? (5)} \\
\emph{How do I use this fix in my code? (4)} \\
\emph{How do I fix this vulnerability? (4)} \\
\emph{How hard is it to apply a fix to this code? (3)} \\
\emph{Is there a quick fix for automatically applying a fix? (2)} \\
\emph{Will the code work the same after I apply the fix? (2)} \\
\emph{What other changes do I need to make to apply this fix? (2)} \\


\noindent\textbf{Observations.}
When searching for approaches to resolve vulnerabilities, participants gravitated toward fix suggestions provided by the notification.
The notifications associated with the Predictable Random vulnerability and the SQL Injection vulnerability both provided fix suggestions.
All participants proposed solutions that involved applying one or both of these suggestions. 
Additionally, P2 commented that it would be nice if all the notifications contained fix suggestions.

However, unless prompted, none of the participants commented on the disadvantages of using fix suggestions.
While exploring the Predictable Random vulnerability, many participants, including 1, 2, and 6 decided to use \CodeIn{java.security.SecureRandom} without considering any alternative solutions, even though the use of that suggested fix reduces performance.
\\

%How hard is it to fix, if fix is easy, then just apply the fix. Don't investegate the consequences. Validate the fix by seeing if the bug icon went away
%without tests or sufficient review to validate the correctness of the fix, such impulsive modifications could have unintended consequences.

\noindent\textbf{Tool Implications.}
Assuring the security of complex software systems requires developers to reason critically about the code. 
Fix suggestions help developers dismiss vulnerabilities more quickly.
However, we imagine that applying suggested fixes with performance trade-offs throughout an entire application could reduce the overall quality of the code.
Our observations suggest the presence of fix suggestions alone may discourage developers from fully considering the implications of their proposed changes.

%False positives 
Accordingly, developer could benefit from tool support in assessing the implications of suggested fixes.
Existing tools, such as \textsc{Quick Fix Scout} begin to address this problem by ordering quick fixes based on the number of defects they add and remove~\cite{mucslu2012speculative}.
\textsc{Quick Fix Scout} helps developers consider the implications of implementing a fix based on a single dimension, defect count.
Security tools that include fix suggestions should encourage developers to consider the various tradeoffs associated with alternative fixes, for example performance reductions.
Such a tool might inform developers of the time it takes the code to execute after applying the fix compared with before the fix was applied.
%Tool looks at runtime
%Though it is not clear how feasible it is to answer some of these questions, some can be answered by using a similar approach to that used by Mu{\c{s}}lu and colleagues when developing 
%Their tool attempts to help developers answer the question \textit{Does this fix introduce other bugs?} 
%None of our participants asked this question specifically, but to that effect, P1 and P2 asked \textit{Will the code work the same after I apply the fix?} 
%Further, questions like \textit{How hard is it to apply?} and \textit{Does the code stand up to additional tests prior to/after applying the fix?} could possibly be answered using a similar process.


%%%%%%%%%%%% Relationship Between Bugs

\noindent\subsection{\textbf{Relationship Between Bugs (4)}}\label{rbb}

Some participants asked questions about the connections between co-occurring vulnerabilities and whether or not similar vulnerabilities exist elsewhere in the code. 
For example, when participants reached the third and fourth vulnerabilities, they began noticing and speculating about the similarities between the vulnerabilities they inspected.
Three of the 155 distinct questions we found target the relationships between the vulnerabilities in the code. 
\\

\noindent\emph{Are all the bugs related in my code? (3)} \\
\emph{Does this other piece code have the same bug as the code I'm working with? (1)} \\


%\noindent\textbf{Observations}
%P1 2 8 10 asked
%Are all of the bugs related in my code?

\noindent\textbf{Tool Implications.}
%Make more clear, This is the implication, but doesn't jump off the page yet...
Though only four of the ten participants asked questions about the relationship between bugs, these questions highlight information requirements tools could support.
When inquiring about the relationships between bugs, participants noted connections between bugs that related to similar topics.
FSB organized the vulnerabilities it identified based on their locations in the code, or alternatively based on their seriousness.
Grouping vulnerabilities based on abstract concepts might enable developers to leverage their knowledge of a vulnerability to fix other related vulnerabilities.

%HELP: I know about CWE are there other canonical taxonomies? More importantly, do tools present bugs according to these taxonomies (group based on similar topic)?
%We speculate that developers might have these kinds of questions because they want to know if a vulnerability like the one they are assessing exists in other similar code fragments.
%Another reason for asking this kind of question is to determine the possibility of eliminating more than one vulnerability with one fix. 
%Whatever the motivation may be, participants did not seem to have an intuitive or easy way of going about finding the answer to the questions asked in this category.
%A tool that answers these questions might make visible the connections between the bugs reported, either visually or by augmenting notifications with information regarding this bug's relevance to others in the code.

%Alert prioritization. Particpants ask if notifications in the same area are the same. Research suggests that homogenous errors occur close to one another. Tools should help synthesize these similar notifications to present information to developers more effectively.


\section{Results: Code and the Application}
\label{sec:results-ca}

% description of what categories fall into this group



%%%%%%%%%%%% Locating Information

\noindent\subsection{\textbf{Locating Information (10)}}\label{li}

Participants asked questions about locating information in their coding environments. 
Eleven of the 155 extracted questions fit into this category.
In the process of investigating vulnerabilities, participants searched for information across multiple classes and files.
For example, when exploring the Path Traversal vulnerability, participants sought the locations in the code where the method containing the vulnerability was being called and where the path parameter was set.
\\

\noindent\emph{Where is this used in the code? (10)} \\
\emph{Where are other similar pieces of code? (4)} \\
\emph{How do I track this information in the code? (2)} \\



\noindent\textbf{Observations.}
%What location info did people look for
All 10 participants wanted to locate where defective code and tainted values were being used throughout the system. 
Most of these questions occurred in the context of assessing the Predictable Random and Servlet Parameter vulnerabilities.
Specifically, participants wondered where the random number generator and the tainted values returned from the servlet were used.
%For example, P1 attempted to gather such information using existing tools like the code element highlighting offered by Eclipse, which shows where a code element is being used locally. 
%Others mentioned wanting to know where the parameter was used, but did not take steps to actually find out. 
%perhaps other participants encountered a situation similar to P6 where they were uncertain of how to start locating the information.

%Simple questions are easy to answer by existing tools
For the most part, participants successfully leaned on existing tools for answering simple questions about locating information like finding occurrences of a variable or references to a specific class name. 
However, strategies relying on existing tools fell short when participants sought context-dependent information. 
The \textsc{Code Usage Highlighter} displayed locations where variables were referenced and set locally, but did not explicitly inform developers of where the variables were put into a database or used in other security-critical contexts.
%Participants didn't just seek location information, they searched for places where information was used within a given context.
For example, participants asked where the servlet parameters were being used, and more specifically, they asked where the servlet parameters were being re-displayed on a web page or where they were stored in a database.

%Where is similar code?
In other cases, four participants wanted to find parts of the code that implemented similar functionality to what they were inspecting.
For all of them, this was a manual process involving mostly scrolling through and exploring the code based on their knowledge of the application.
For example, while assessing the SQL Injection vulnerability, P2 and P5 both wanted to know more about how the functionality under investigation was implemented in other parts of the code. 
P2 wanted to know, more specifically, what other parts of the code use Database Access Objects.
\\

%While assessing the Predictable Random vulnerability, P2 and P10 wanted to know if the code the notification was attached to was only run in test code. 
%They were able to use existing tools to find where the code was being used, however, P2 was still could not confirm 100\% that the code is only used in tests. % more detailed strategies?

%Might be worth adding back in...

% question with no tool support for answering
%Two participants had questions concerning the ability to track information while interpreting some of the vulnerabilities. 
%To better understand the SQL Injection vulnerability, P9 wanted to find a way to track all the possible inputs, with no success. 
%P6 wanted to be able to track all the variables that could be affected by this vulnerability; because no tool support to his knowledge existed to help retrieve the information, he noted he would use pencil and paper to do %so. 
%Because this is a process that could take some time, P6 explained how he would do it rather than doing it, as many participants did when they had tool support.

\noindent\textbf{Tool Implications.}
The answers to some of these questions can be found using existing tool support found inside the IDE. 
For example, Eclipse's \textsc{open declaration} can find a method's definition. 
However, in the case of context-dependent questions, developer's could benefit from increased tool support. 
For example, if search tools had knowledge of the security-critical components in the code, they could prioritize results that occurred within or interacted with critical components.
Currently developers must manually prioritize search results and determine whether each is security-relevant.

Developers could also benefit from tool support in searching their applications for code written similarly to the potentially vulnerable code. 
A tool that supports this process might include references to other parts of the project with similarly structured code, or code that calls a similar set of methods. 
Such a tool would help developers identify parts of the project that may also contain vulnerabilities, or conversely, strategies for resolving the vulnerability.
%For instance, participants who asked \textit{how do I track this information in the code} did not have a tool-supported way to answer this question.
%Similar to the suggestion made in Section~\ref{cf}, a tool that can automatically detect when a developer is attempting to track specific information could help by either helping the developer track the information of interest or pointing out a tool that can.


%%%%%%%%%%%% Control Flow/Call Information

\noindent\subsection{\textbf{Control Flow and Call Information (10)}}\label{cf}
We also extracted questions relating to control flow and calling information. 
Developers seek information about the methods that get called, and whether they may get called with dirty parameters.
Participants searched up the call chain, especially while evaluating the Potential Path Traversal vulnerability, trying to understand the possible files that could get opened. 
Many determined that since all the calls originated in test classes, they could dismiss the vulnerability.
Thirteen of the 155 distinct questions extracted dealt with acquiring control flow and call information.
\\


\noindent\emph{Where is the method being called? (10)} \\
\emph{How can I get calling information? (7)} \\
\emph{Who can call this? (5)} \\
\emph{Are all calls coming from the same class? (3)} \\
\emph{What gets called when this method gets called? (2)} \\



\noindent\textbf{Observations.}
While exploring the Path Traversal vulnerability, participants sought information about the methods being called. 
The private method containing this vulnerability was only called by one method, \CodeIn{parseAndCache()}, which was defined directly above it. \CodeIn{parseAndCache()}, which was also private, got called by a public method. Tracing up the chain, the method containing the vulnerability was eventually called from multiple classes that were all contained within a test package.

All 10 participants wanted call information for this vulnerability, often asking the question \textit{Where is this method being called?} 
However, participants used a mix of several different strategies to obtain the same information.
The most basic strategy was simply skimming the file for method calls, which was error prone because participants could easily miss some calls.
Other participants used the Eclipse's \textsc{code usage highlighter} tool, which, to a lesser extent, was error prone for the same reason. Further, it only found calls within the current file.
Another strategy participants employed was the use of Eclipse's \textsc{text search} tool, which found all occurrences of a method name, but there was no guarantee that strings returned referred to the same method. Also, it returned references that occurred in dead code or comments.
Alternatively, Eclipse's \textsc{find references} tool identifies proper references to a single method.
Unlike the previous strategies, Eclipse's \textsc{call hierarchy} tool enables users to traverse a project's entire call structure; however, it does not identify calls made from framework hooks or APIs.
Additionally, some participants were unaware of how to access and how to use \textsc{call hierarchy}.

Eventually, many participants hypothesized that all the calls might originate from the same (test) class. Three participants explicitly asked \textit{Are all calls coming from the same class?} To verify this assumption, participants primarily used the heuristic of visually examining the list of calling methods and their package names, scanning for the test keyword. This strategy does not scale particularly well and would fail if the methods were named incorrectly, or if they accidentally missed one.
\\

\noindent\textbf{Tool Implications.}
Particularly when resolving security vulnerabilities, developers are concerned with \textit{all} of a method's potential call sites.
Tools like \textsc{find references} and \textsc{call hierarchy} provide support for locating call information, yet the leave room for extension.
Our findings suggest that tools that reason about, and notify developers of, calls originating outside the local code could help them answer the questions in this category.

Despite the existence of tools like \textsc{find references} and \textsc{call hierarchy}, based on our observations, developers face barriers preventing them from invoking sophisticated tools, perhaps due to a lack of awareness.
Our findings suggest that developers could benefit from tools that reduce the barriers to discover new tools.
In particular developers could benefit from tools that apprise them of other useful tools like \textsc{find references} and \textsc{call hierarchy}.
A tool that addresses these needs might detect when the developer is looking for call information (for example, using the `find' tool) and suggest the appropriate tool for finding the information they require. 

%It is unclear whether the call hierarchy tool is more efficient than tools like 'find references' for answering these kinds of questions, however participants who sought call information without the call hierarchy tool were more likely to make faulty assumptions or miss method calls. 


%%%%%%%%%%%% Data Storage 

\noindent\subsection{\textbf{Data Storage and Flow (10)}}\label{dsf}
Much like the questions related to \emph{\textbf{Control Flow and Call Information}}, participants also asked questions about to the data being stored and carried throughout the program. 
Often participants wanted to understand the type of data being collected and stored, where the data came from, and where it was going. 
For example, participants wanted to determine where data was coming from, whether it was generated by the application or passed in by the user, and where it was going, i.e., whether it was being stored in the database.
Eleven of the 155 distinct questions fit into this category.
\\

\noindent\emph{Where does this information/data go? (9)} \\
\emph{Where is the data coming from? (5)} \\
\emph{How is data put into this variable? (3)} \\
\emph{Does data from this method/code travel to the database? (2)} \\
\emph{How do I find where the information travels? (2)} \\
\emph{How does the information change as it travels through the programs? (2)} \\


\noindent\textbf{Observations.}

All 10 participants had questions regarding the data pipeline.
Participants asked questions about the data pipeline when assessing three of the four vulnerabilities, many of these questions arose while assessing the Path Traversal vulnerability. 

While exploring this vulnerability, participants adapted tools like the call hierarchy tool to also explore the program's data flow. 
Specifically, participants used the call hierarchy tool in combination with manual searching. 
As we discussed in \emph{\textbf{Control Flow and Call Information}}, the call hierarchy tool helped participants locate callers to the methods containing vulnerable code. For example, once participants like P6 located the caller, they manually searched for the locations where the actual parameters were set.
\\

%For example, when P7 was determining the details of the potential vulnerability, he manually traced through method calls to determine if the data controlled by the client would reach the database.

%The most popular questions in this category are \textit{Where does this information go?} and \textit{Where is the data coming from?} 
%Often when assessing the Servlet Parameter vulnerability, both these questions occurred. 
%For instance, P6 wanted to know where the form data was set and where the data where going to see if the input is every validated.  
%Similarly, while evaluating the Potential Path Traversal vulnerability, P1 wanted to know where the path originated to determine if it was coming from a secure source.
%Though both P1 and P6 knew the questions they needed answered, they did not attempt to use any of the tools, including manual search, to determine the answers. % Why didn't they uses, could be they just didn't feel like going along with the experiment
%Often, like P1 and P6, participants would describe what they would do but not attempt to do it


\noindent\textbf{Tool Implications.}
The \textsc{Call Hierarchy} tool presents control flow information, but does not give the full picture of how data travels through the program. 
Developers  have to retrieve this information, either from the documentation, by running the debugger, or by manually inspecting the code.
As we observed, developers frequently switch between seeking control flow information and data flow information while reasoning about security vulnerabilities.
Such switching between tools and strategies might induce disorientation~\cite{deAlwis2006disorient}.

Tools that aim to prevent such disorientation should focus on presenting call flow and data flow information simultaneously.
Such a tool might behave similarly to the \textsc{Call Hierarchy} tool by allowing developers to traverse the call graph, but would also allow the developer to specify a parameter to track. Stepping up the call hierarchy would present information about how that parameter was set in the callee's context.

%There has been some research and development surrounding the creation of data flow graphs for visualizing data dependencies in a program, however, data dependency graphs become unwieldy as applications grow large~\cite{ghosh2001method, ferrante1987program}. 
%Tools have been developed to do data flow analysis and report defects to programmers based on such analysis, however, they do not allow developers to explore the flow of data through their programs~\cite{jovanovic2006pixy}. 
%It may be that some of the existing tools for data flow analysis could be augmented with functionality for exploring visualizations of the static data flow information already being gathered; this is one way tools could better support the answering of these types of data flow questions.

% B1, 3, 4 (mainly 3)
% P1, P3, P8
%P1 -- I haven't verified that. You might be modifying the string as it goes through. But it's probably the same string.. 
%P1 -- Where is the form data going?
%P3 -- What parts of the code used this data?
%P8 Where are the values going?

%%%%%%%%%%%% Code Background

\noindent\subsection{\textbf{Code Background and Functionality (9)}}
\label{cbf}
Participants also asked questions concerning the background and intended function of the code being analyzed. 
Seventeen of the 155 distinct questions extracted fit into this category. 
The questions in this category focus on the code, such as determining the role a component or piece of code plays in the entire system or program.
They ask about the history of the code and the context in which the code resides.
\\

\noindent\emph{What does this code do? (9)} \\
\emph{Why was this code written this way? (5)} \\
\emph{Why is this code needed? (3)} \\
\emph{Who wrote this code? (2)} \\
\emph{Is this library code? (2)} \\
\emph{How much effort was put into this code? (1)} \\



\noindent\textbf{Observations.}
Nine of the 10 participants asked questions about the background of the code; most participants wanted to know what parts of the code did.
Participants asked \textit{What does this code do?} about all four vulnerabilities.

Participants were interested in the history of the code.
For example, they asked why it was written a specific way, who wrote the code, or how much effort had been put into the code.
P2 asked how much effort had been put into the code to determine whether he trusted that the code was written securely.
While assessing the Potential Path Traversal vulnerability, some participants came to the realization that the authors of the code could help answer some questions. 
For example, P10 stated that he would normally ask his team members for background on how the code worked.
Further, five participants wanted to know why the code was written the way it was written; this question occurred in all four vulnerabilities.
\\

%Brings unwanted attention to our inserted vulnerability
%As P2, P7, and P8 explored the code pertaining to the SQL Injection vulnerability, they became curious as to why developers of the code would use Java's \texttt{Statement} instead of the presumably more secure \texttt{PreparedStatement} for sending queries to a Database Access Object.
%For this question, if participants made an attempt to find the answer, they also focused their attention on outside resources they could use to find the answer. 
%It seems most, if not all, of the questions in this category require information that existing tools may not be able to provide.

%For example, as P7 began assessing the vulnerability, he explored the code involved in the vulnerability with the goal of understanding what the code does. 
%He was hoping he could there would be library documentation (\textit{Is this library code?}) he could find and use to answer his question, however, upon further investigation realized the code was written by someone writing the software, a resource he would not be able to easily access.
%Along the same lines, P10 stated he would ask other developers about the code to learn what it does.
% P1 -- B3

% 

\noindent\textbf{Tool Implications.}
Based on our observations, it seems that understanding the history and status of the code helps developers assess its security.
If the code shows signs of neglect, uses deprecated libraries, or has not been tested and reviewed, some developers might be less likely to trust the security of the code.
Developers seem interested in investigating the specific areas of code that exhibit these properties. 

Version control systems already track some information about the authors and history of the code.
Perhaps tools could use this information to prioritize vulnerabilities or direct developers to problematic areas.
%Answering many of these questions would require aggregated data, such as documentation that programmers contribute to as the code changes or measuring the amount of effort that has been put into the code thus far.
%This means that without proper tool support, developers interested in this information would have to seek out resources that have the information they need.
%Once they find the resource, they would have to find any and all information relevant to the program entity they are investigating, all while hoping the information is up to date and accurate.


%%%%%%%%%%%% Application Context

\noindent\subsection{\textbf{Application Context/Usage (9)}}\label{acu}


Some participants wanted to know how code entities or pieces of code fit into the overall context of the application or system under analysis. 
The questions ranged from specific questions about a method or variable to general questions regarding the usage of the entire system. 
For example, often when assessing the vulnerabilities, participants wanted to know if the code was used for testing functionality or in production. 
Nine of the 155 distinct questions revolved around how the code works in the context of a portion of or the entire system.
\\

\noindent\emph{What is the context of this bug/code? (4)} \\
\emph{Is this code used to test the program/functionality? (4)} \\
\emph{What is the method/variable used for in the program? (3)} \\
\emph{Will usage of this method change? (2)} \\
\emph{Is the method/variable every being used? (2)} \\
\emph{Are we handling secure data in this context? (1)} \\
\emph{How does the system work? (1)} \\



\noindent\textbf{Observations.}
Four participants wanted to know the context in which the code being assessed was used or the context of the bug being assessed.
Similarly, three participants found themselves trying to determine what a specific method or variable is used for in the application.
Both of these questions came up for three of the four vulnerabilities.

 
P7 had questions concerning the context of the code associated with the Potential Path Traversal and Predictable Random vulnerabilities.
For the former vulnerability, he wanted to know the general context in which the code is used; for the latter, he wanted to know the legal context in which the code is being used.
P7, like others, asked these questions but did not follow through to answer them. 
P2, when thinking about how he might determine the context in which the code associated with the Predictable Random vulnerability is used, stated that the tool would have been more useful if it could tell him this information.
He followed this statement with the notion that this sort of tool may be ``unrealistic.'' 
% B1, 2, 3 -- mostly 1(?)


% B1, 2, 3 -- mostly 2(?)
Related to determining the general context is determining if the code associated with the vulnerability is used to test the system. 
P2, P4, P9, and P10 asked whether the code they were examining occurred in classes that were only used to test the application. 
To answer this question, sometimes participants used tools for traversing the call hierarchy; using these types of tools allowed them to narrow their search to only locations the code of interest is being called.
Compared to the tool support provided for determining general context, participants could answer this question relatively easily using existing tool support.
\\
%Though all participants had experience coding in iTrust, and had some knowledge about the codebase, many still encountered situations where they wanted to know the usage or context of a segment of code within the application. 

\noindent\textbf{Tool Implications.}
Similar to questions asked about code background and functionality, it is not obvious what tool support for answering these kinds of questions would look like because it was not always obvious why participants wanted these bits of information. 
For example, one reason for needing this type of information is to better understand the code and likelihood that a bug is a vulnerability. 
However, it may be that participants merely wanted to know the answers to these questions with no high level goal in mind.
Most of the questions in this category can be answered using documentation, if any exists, written by the developers of the code; perhaps a tool that supports answering these questions would make any relevant developer written documentation more easily available and searchable for information of interest.
When specifically helping developers determine when potentially vulnerable code is test code, this could be added to the notification so the developer is aware of that detail before expending the effort to fix something that will not affect the finished product.


%%%%%%%%%%%% End-User Interaction

\noindent\subsection{\textbf{End-User Interaction (8)}}
\label{eui}


Questions in this category deal with how end users might interact with the system or a particular part of the system. 
Some participants wanted to know whether users could access critical parts of the code and if measures are being taken to mitigate potentially malicious activity. 
For example, while assessing the Potential Path Traversal vulnerability, participants wanted to know whether the path is sanitized somewhere in the code before it is used.
Three of the 155 distinct questions we found fall into this category.
\\

\noindent\emph{Is there input coming from the user? (4)} \\
\emph{Does the user have access to this code? (4)} \\
\emph{Does user input get validated/sanitized? (4)} \\


\noindent\textbf{Observations.}
% seemed mostly a concern for B3, but also B1 and B4 for some
Eight participants had questions regarding the level of interaction end-user have with the code of interest. 
Though none of these questions got asked more than others, some questions co-occurred for a given vulnerability.
For example, when assessing the Potential Path Traversal vulnerability, P1 and P6 wanted to know if the input was coming from the user along with whether the input is being validated in the event that the input does come from the user.
For these participants, finding the answer required manual inspection of surrounding and relevant code. 
For instance, when P6 manually inspected code and found a \CodeIn{Validator} method that he also manually inspected to determine if it was doing input validation.
% B1, 3, 4 -- mostly 3

% user access
% B1
% P1, P6: all these test data generator so no user access (how did he get to this?)
% P2: vulnerability only exists if user can access this code (used call hierarchy)
When assessing the Potential Path Traversal vulnerability, four participants had questions regarding whether end-users had access to the part of the code being analyzed.
P2 used the called hierarchy to answer this question by tracking where the method the code is contained in gets called; for him, the vulnerability only existed if the user had access to the code.
P1 and P6 went on a similar mission and determined that because all the calls to the code of interest appeared to happen in methods called \CodeIn{testDataGenerator()}, the code should be fine as it is written.
Though participants found the answers to their questions, it took time for them to get the answer using tools meant to answer other questions.
\\

\noindent\textbf{Tool Implications.}
Research exists that studies attack surfaces, or vectors that predict where an unauthorized user may be able to gain access to the system.
The goal of their research area was to identify, measure, and reduce the size of attack surfaces~\cite{manadhata2011attack, bartel2012automatically}. These types of tools can help answer \textit{Is there input coming from the user?} 
However, developers may lack tool support for navigating through and reasoning about attack surfaces to answer the others.
Existing tools could extend their functionality to answer these questions by allowing developers to narrow in on points of interest in relation to the potential vulnerability being assessed.
Answering \textit{Does the user input get validated/sanitized?} may also require providing an explicit, perhaps visual, connection between the attack surface and the code the input touches.
% Not sure what tool implications look like for validation question...


% P2: Suspected that random pass word was in test code, but went on to discover that it was not (how?) -- interesting but not sure if it goes here


\section{Results: Individuals}
\label{sec:results-i}


%%%%%%%%%%%% Developer Planning

\noindent\subsection{\textbf{Developer Planning and Self-Reflection (8)}} \label{dpr}

Another kind of question participants asked when assessing potential security vulnerabilities concerned their current status or plans for next steps in terms of assessing or removing the vulnerability. 
All of the questions in this category involve the developer's thoughts or the individual's relationship to the problem, rather than specifics of the code or the error notification.
For example, when some participants thought they had an idea of what the problem might be, they stopped and took different measures to re-assess the code or notification to make sure they understood.
Fourteen of the 155 distinct questions extracted fit into this category. 
\\

\noindent\emph{Do I understand? (3)} \\
\emph{What should I do first? (2)} \\
\emph{What was that again? (2)} \\
\emph{Is this worth my time? (2)} \\
\emph{Why do I care? (2)} \\
\emph{Have I seen this before? (1)} \\
\emph{Where am I in the code? (1)} \\



\noindent\textbf{Observations.}
% kinds of questions asked about bugs in general, so not surprised asked about all four security vulnerabilities in our study
% P6, P8, P9
% no one asked about B2 (overall the simplest to assess, but why?) -- look these and see if anything interesting
Eight participants asked questions that are meant to be plan-oriented or reflective.
The questions asked in this category are questions that developers ask themselves about any potential defect in their code, so it is not surprising that participants asked these kind of questions about all four vulnerabilities used in our experiment.
The question participants asked most often was if they understood the entirety of the situation; asking this question was typically followed by looking back at the error message details. 
For example, as P6 started exploring the validity of the SQL Injection vulnerability, he wanted to know if he fully understood the error message before he got into it, so he went back to read the error message one more time before exploring.
\\

\noindent\textbf{Tool Implications.}
Though, in general, there is no obvious solution that can help developers answer many of these questions, including \textit{Do I understand?}, there are ways to provide information or instructions developers can follow to more easily determine the answer to some of them for themselves. 
For example, one question participants asked was \textit{Have I seen this before?}
A tool that helps developers answer this question might keep track of previous times the developer has encountered, and perhaps fixed, this vulnerability. 
The tool could also include a link to the code where the vulnerability was located as well as a diff showing the changes the developer made to fix the vulnerability.
Another question that a tool could potentially help answer is \textit{What was that again?} 
A tool that would support answering this question could keep track of places in the code the developer visits, perhaps while they are using a tool like FSB, and make them easily accessible to the developer as they triage the code.


%Some participants described ad-hoc strategies for tracking the vulnerabilities they had encountered, such as keeping text files associated with --> this sounds awesome but not sure where to find it :(

%%%%%%%%%%%% Understanding Concepts

\noindent\subsection{\textbf{Understanding Concepts (7)}}\label{uc}

For some participants, the concepts or terms that the notification contained may not have been a part of their own mental model. 
In these situations, participants had questions surrounding one or more of the concepts relevant to the problem.
For instance, while parsing the potential attacks listed in the notification for the Servlet Parameter vulnerability, some participants did not know what a CSRF token was.
We categorized 6 of the 155 distinct questions into this category. 
\\

\noindent\emph{What is this concept? (6)} \\
\emph{How does this concept work? (4)} \\
\emph{What is the term for this concept? (2)} \\


\noindent\textbf{Observations.}
% questions in this category appeared at least once for each vulnerability -- especially true for "what is this concept" question, which spanned all 4
Seven participants had questions regarding the concepts and terms relevant to the potential vulnerability being communicated. 
Questions in this category appeared at least once for each vulnerability; this was especially true for know what a given concept or feature was, which spanned all four vulnerabilities. 
Six of the seven participants that had questions in this category asked the question \textit{What is this concept?} for at least one of the potential vulnerabilities.

% what is this concept (6) -- P2, 5, 8, 10
% P2: what is path traversal --> clicked first link in FB
% P7/P8: what is CSRF token --> no link, wikipedia
% P4: what is servlet and how relates to client control --> no link (said would have linked some info on that)

When a link was available for more information, and participants saw it, they used the link to get more information about the concept of interest.
For example, while assessing the Potential Path Traversal vulnerability, P2 was unsure of what path traversal was so he clicked the link provided by FSB that said ``path traversal attack'' to get more information.
If a link was not available, they went to the web to get more information or noted that the notification could have included more information on those concepts.
While parsing the information provided for the Predictable Random vulnerability, P7 and P8 did not know what CSRF token was.
The notification for this vulnerability did not include links so they searched the web for more information. 
When asked what information he would like to see added to the notification for the Servlet Parameter vulnerability, which also did not include any links, P4 noted he wold have liked the notification to include what a servlet is and how it related to client control.
\\

\noindent\textbf{Tool Implications.}
In general, if a developer does not have experience with a particular feature or concept, they may have more difficulty understanding a problem in their code pertaining to that concept~\cite{wiedenbeck1993mental}.
Not all developers have the same experiences, so it seems important that developers who do not understand the concepts involved in potential security vulnerabilities are able to easily find the means to gain that understanding.
Sometimes, FSB provides links to information regarding the concepts involved. 
However, some participants did not use them because they did not know they existed until the first author pointed them out; because of this, they usually did a web search themselves to find more information.

A simple solution to providing easier access to the desired information is by placing links, when available, in a  more visible area; one suggestion for placement is nested in the text of the error message next to the concept it has information about. 
One potential downfall to this solution is that developers that understand the concepts will likely not use the links, and maybe even find them distracting.   
Perhaps if tools had access to models that represent a developer's conceptual knowledge, similar to work done by Fritz and his colleagues to model developer familiarity with source code~\cite{fritz2010degree}, tools could make an attempt at only adapting notifications if the developer's model suggests there is a need to answer these types of conceptual questions.
% Very obvious trying to plug direction of my research but still a possible direction for this :)
%We only collected general security vulnerability knowledge as a pre-study demographic so it is difficult to draw conclusions about the correlations between difficulty understanding the concepts being discussed and the participants' experience with that concept.

%%%%%%%%%%%% Confirming Expectations

\noindent\subsection{\textbf{Confirming Expectations (1)}}\label{ce}
% possibly could be put with developer planning/self-reflection OR code background and function?

A few participants found themselves in situations where they wanted to be able to confirm whether the code is doing what they expect it to be doing. 
Though only four participants asked questions in this category, we believe there are implications for tools that worth communicating and exploring further. 
The distinct questions asked in this category was \textit{Is this doing what I expect it to?} 
\\

%Swap categories?
\noindent\textbf{Tool Implications.} Developers build and alter their mental models when exploring code~\cite{canas1994mental, burkhardt1997mental}. 
As they build and alter mental models, developers may seek confirmation that they fully understand the code and its intended function; for a subset of our participants, this was the case. 
We only identified one distinct question, however, based on our observations, there are at least two ways this question can be interpreted and each require different tool support to answer it.
%automatic resolution
One participant wanted to know if applying the suggested solution would do what he expected it to do. 
Tool support for answering this question might allow the developer to easily apply, explore and potentially remove the fix; the tool could go a step further and run the tests for the code after application to show the developer what the fix does.

%easy access to code documentation 
The other participants wanted to know information pertaining to how they believed the code does or should work, typically from documentation when available. 
Answering this question in this context is relatively simple when documentation is available, however, if the code is not imported code, the change of documentation being included and easily accessible is reduced.
One participant wanted to know if some code written by the project's developers works as he expects; he hovered over the method to view the javadoc, but because one did not exist he had to use \textsc{open declaration} to find the answer.
Perhaps a tool that uses patterns and elements names in the code to generate documentation for methods not imported from a package with java documentation could help developers in these kinds of situations.
For example, if the method in question is called validate() and takes a String as input and has a condition with an error message or thrown exception, documentation could be generated to communicate that the method is used to validate string input without the developer having to figure it out.


% is validator formatted how I expect --> hovered for javadoc, didn't work had to open declaration --> 
% using patterns and element names in code to generate documentation for methods written (not methods from imported packages)
% example --> a method called validate() that takes a String as input and has a condition with an error message, documentation could be generated to communicate what that method does without the developer having to do so.



\section{Results: Problem Solving Support}
\label{sec:results-pss}


%%%%%%%%%%%% Resources

\noindent\subsection{\textbf{Resources and Documentation (10)}}\label{rd}

Many participants found themselves in situations where they would use outside resources and documentation to decide how to proceed regarding a given vulnerability.
For example, when assessing the Potential Path Traversal vulnerability, participants wanted to know what their team members would do or if they could provide any additional information regarding the vulnerability. 
Another kind of question we extracted pertained to the resources and documentation available regarding the vulnerability or source code. 
Ten of the 155 distinct questions fall into this category. 
\\

\noindent\emph{Can my team members/resources provide me with more information? (5)} \\
\emph{Where can I get more information? (5)} \\
\emph{What information is in the documentation? (5)} \\
\emph{How do resources do to prevent or resolve this? (5)} \\
\emph{Is this a reliable/trusted resource? (3)} \\
\emph{What type of information does this resource link me to? (2)} \\



\noindent\textbf{Observations.}
All 10 participants had questions regarding the resources and documentation available to help them assess a given vulnerability. 
Even with the links to external resources provided by two of the vulnerabilities, participants still had questions about those resources and resources they could potentially use. 
Some participants used the links provided by FSB to get more information about the vulnerability.
Participants who did not click the links in the notification had a few reasons for not doing so.
For some participants, the hyperlinked text was not descriptive enough to know what information the tool was offering; others did not know if they could trust the information they found.

Some participants found themselves clicking the links provided by FSB thinking they would find what they are looking for, to find that they actually had not. 
For example, P2 clicked the first link on path traversal while trying to understand the Potential Path Traversal vulnerability hoping to find information on how to resolve the vulnerability.
When he did not see that information, he had to go back and attempt another web search for that information. 
A few participants did not know the links existed so they typically either searched the web or noted other strategies they might use, such as asking other developers on the project.
\\

\noindent\textbf{Tool Implications.}
%Fix Sentence
Some tools link to external documentation that developers can use to attempt to answer some of these questions, FSB being one of them. 
Though links to external documentation and resources can provide answers to some of these questions, they do not help answer questions concerning the reliability of the resource nor do they provide developers with the ability to locate and use other external resources such as team members or others who have experience with the relevant code.
It seems reliability of the resource would be especially important for making changes based on the resource in a secure system.
%Information too complex, not sure how to apply 

Lack of support for answering these questions, especially questions concerning reliability, may have contributed to participants not clicking the links in many situations.  
Tools might consider including information regarding the reliability of the resources provided; one way to do this is to associate the link with peers who have visited it.
Also, to help answer questions about other team members' knowledge of the code, tools may be able to borrow ideas from previous research.
Fritz and colleagues developed a degree of knowledge model that predicts how familiar a developer is with various source code elements, however, this model has not been operationalized in a tool that allows developers to have access to the degree of knowledge values for various developers on the code segment being analyzed~\cite{fritz2010degree}.



%%%%%%%%%%%% Understanding Interacting Tools

\noindent\subsection{\textbf{Understanding and Interacting with Tools (8)}}\label{uit}

Throughout the study participants interacted with a variety of tools including FSB, \textsc{call hierarchy}, and \textsc{find references}. 
While interacting with these tools, participants asked questions about how to access specific tools, how to properly use the tool, and how to interpret tool output. 
Nine of the 155 distinct questions we extracted fall into this category.
\\

\noindent\emph{Why is the tool complaining? (3)} \\
\emph{Can I verify the information the tool provides? (3)} \\
\emph{What is the tool's confidence? (2)} \\
\emph{What is the tool output telling me? (1)} \\
\emph{What tool do I need for this? (1)} \\


\noindent\textbf{Observations.}
%[ACCESSIBILITY (4 letter word)]
Some of the questions we extracted seemed to deal with having access to or knowing how to use the tools needed to complete a certain task. 
Participants sometimes found themselves in situations where they needed information or to take action but could not determine how to invoke the tool or possibly did not know what tool they would use at all. 
This seems to point to a tool awareness or education problem.

%[Presentation of tool information]
Other questions dealt with the presentation of information provided by the tool. 
Participants wanted to be able to explore things about the tool's output, and typically had to manually determine the answers to their questions. 
For example, FSB reports its confidence on the potential defect in the notification, however, some participants found it difficult to process this information.
\\


\noindent\textbf{Tool Implications.}
Developers' ability to understand and effectively interact with tools has been the focus of many research studies, however, developers may still have difficulty answering some of the questions they have when using existing tools~\cite{ko2004designing, khoo2008path, johnson2013don}. 
Many of these questions may require the input of other developers to be answered effectively. 
For example, research suggests that developers are more likely to trust and use a tool that has been recommended by one of their peers~\cite{murphy2010trust}.
Research also suggests that through concise peer interaction, developers more effectively discover new tools~\cite{murphy2011peer}. 
A tool that supports answering these questions might allow developers to easily access information regarding peer interactions with the tools being used; the tool might also include advice based on mistakes the developer's peers have made. 
 

% whyline - why did, why didn't this happen but not why tool complaining (still question not answered as well as what is tool telling me and how information presented, cite)



%%%%%%%%%%%% Bug Severity/Ranking

\noindent\subsection{\textbf{Bug Severity and Ranking (5)}}\label{bsr}

Some participants had questions regarding the severity or ranking of the bug being reported by FSB. 
These questions dealt with general bug severity questions and questions specifically about how the tool communicates severity and ranking. 
Four of the 155 distinct questions extracted fall into this category. 
\\

\noindent\emph{How serious is this bug? (2)} \\
\emph{How do the rankings compare? (2)} \\
\emph{What do the bug rankings mean? (2)} \\

\noindent\textbf{Observations.}
Five participants had questions related to the seriousness of the vulnerability being assessed, and sometimes those surrounding it. 
Most of these questions came from participants wanting to know more about the tool's way of ranking the vulnerabilities in the code.
Participants that attempted to interpret the tool's severity and ranking metrics often had difficulty understanding what they meant. 
For example, when assessing the Potential Path Traversal vulnerability, P1 discovered the rank, severity, and confidence information provided by the tool. 
He noted that it would be helpful and added it to his assessment process for the following vulnerabilities.
As he began working through the final vulnerability (SQL Injection), he realized he may not have as good of an understanding of the tool's metrics as he thought and did a web search for clarification. 
P6, among others, did not notice the ranking and severity information provided by the tool. 
\\

\noindent\textbf{Tool Implications.}
Previous research on static analysis tools also found that developers may not always be able to understand the rankings or severity labels tools use, so it is not surprising this category emerged from our questions~\cite{johnson2013don}.
Techniques and tools have been developed for static analysis alert prioritization that can be used to reason about the severity and ranking of tool notifications~\cite{kim2007prioritizing, boogerd2006prioritizing, kremenek2004correlation}.
It seems these kinds of tools would be useful when attempting to answer, or even eliminate, these kinds of questions. 
%over complicated severity/ranking structure -- example from observations (one participant - can't remember who - made some comments about how the severity/ranking is presented, what the numbers mean, etc.)
Based on our observations, another way to answer or prevent these questions is by using simple, one-dimensional metrics for reporting the severity or ranking of a potential vulnerability.
For example, instead of FSB using phrases and numbers to represent severity, priority, and rank, perhaps FSB could use one scale where one value can tell you how important the vulnerability is in comparison to the space of other vulnerabilities.

%%%%%%%%%%%% Error Messages

\noindent\subsection{\textbf{Error Messages (6)}}\label{em}

Participants asked questions concerning the content of the error messages attached to the notifications. 
FSB provided long and short descriptions of each vulnerability. 
Participants read and reasoned about these notifications to guide their analysis.
Three of the 155 distinct questions we extracted fall into this category.
\\

\noindent\emph{What does the error message say? (5)} \\
\emph{What is the relationship between the error message and the code? (2)} \\
\emph{What code caused this error message to occur? (2)} \\

\noindent\textbf{Observations.}
Six participants had questions about the vulnerability notifications; five of these participants asked \textit{What does the error message say?}, a typical question for someone to ask when using tools to analyze source code.
More interestingly, they also asked questions about how to relate information contained in the error message back to the code. 
For example, the Predictable Random vulnerability notes that a predicable random value could lead to an attack when being used in a secure context. 
Many participants attempted to relate this piece of information back to the code by looking to see if anything about the code that suggested it is in a secure context. 
In this situation, the method containing the vulnerability was named \CodeIn{randomPassword()}, which suggested to participants that the code was in a secure context and therefore a vulnerability that should be resolved.
\\

\noindent\textbf{Tool Implications.}
Determining what an error message says is a relatively simple action for the developer to complete.
However, developers also asked about the connections between the error message and the code.
FSB attempts to answer this type of question by placing an icon in the gutter of the editor on the line containing vulnerable code. 
However, if the error message relates to multiple lines of code, the icon's location does not entirely indicate the connection between the code and the error message. 
Research has attempted to help developers make stronger connections between the error message they receive and the relevant code using visual overlays in the code editor~\cite{barik14visual}.
These type of visual overlays may also be useful for answering the questions in this category.

\section{Overview of Tool Design Implications}
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\label{sec:disc}
In this section we summarize select tool implications that we discussed throughout the results sections.
Based on our observations, tools should consider:

\begin{itemize}
%Understanding Alternative Fixes and Approaches
\item presenting real-world examples from trusted security authorities,
%present
\item supporting systematic reasoning about potential attacks,
%application of fix
\item presenting the trade-offs associated with alternative solutions,
%Relationship between bugs
\item supporting reasoning about related vulnerabilities,
%newGroup
%locating info
\item helping developers locate security-critical components,
%control flow
\item increasing tool awareness by recommending more effective strategies,
%data storage and flow
\item supporting the simultaneous exploration of control flow and data flow,
%app context and usage
\item helping developers assess how code is used within the context of an application,
%End User Interaction
\item helping developers reason about attack surfaces,
%Planning and Self-Reflection
\item presenting information about developers' previous vulnerability encounters,
%Understanding concepts
\item providing links to relevant information within the notification,
% Resources and Docs
\item providing access to knowledgeable resources,
% Interacting with tools
%\item 
%Severity and ranking
\item using simple one-dimensional metrics for prioritizing vulnerabilities, and
%
\item using visual overlays to make connections between the notification and the code.


\end{itemize}
%

\section{Threats to Validity}
\label{limits}
The developers we recruited may not be representative of all developers.
We conducted an exploratory study with a small number of developers, including some students and participants that had limited familiarity with security vulnerabilities.
Developers with more expertise and experience might ask different questions and require different types of tool support.

Further, participants were equipped with FSB, an open source static analysis tool. 
Developers using other more sophisticated tools might ask slightly different questions.
We cannot and do not claim that the that we have identified a comprehensive list of questions.

We also only examined developers' interactions with four specific vulnerabilities in one Java project. 
It remains to be seen whether our design guidelines apply to a broader set of projects.


%One potential threat is that some participants had not worked in the code of interest for some time by the time they participated in the experiment. This may have led them to ask questions that a developer working in their every day coding environment might not ask. 
%Along the same lines, another threat is that we did not have developers who are responsible for the security of their code in real life; we asked participants to pretend they are in charge of security for the code.  


\section{Conclusion}
\label{sec:concl}
This paper reported on an experiment conducted to discover the questions developers ask when identifying and assessing security vulnerabilities in software code.
During the experiment, we asked 10 software developers to walk us through their thoughts as they assessed potential security vulnerability found in iTrust, a medical records web application.
We presented the results of our experiment as a catalog of categorized questions developers ask when assessing security vulnerabilities.
Our findings have several implications for the design of tools that can be used when attempting to answer the questions developers have, such as providing support for reason about possible system attacks.




% conference papers do not normally have an appendix


% use section* for acknowledgement
%\section*{Acknowledgment}

%We would like to thank our study participants. 
%Special thanks to Xi Ge, Anthony Elliott, and the Developer Liberation Front\footnote{\blind{\url{research.csc.ncsu.edu/dlf/}}} for their assistance. 
%This material is based upon work supported by a National Science Foundation Graduate Research Fellowship under Grant No. DGE--0946818.

\bibliographystyle{IEEEtran}
% argument is your BibTeX string definitions and bibliography database(s)
\bibliography{iTrustInterviews}
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)



% that's all folks
\end{document}


